# Итоговый проект №5

## Служба такси

<b>Выбор технологического стека</b>

Поскольку объем данных исходного файла небольшой (0,5 Гб) и формат данных столбцов достаточно точно определен решено использовать следующий стек технологий:

1. В качестве СУБД использован Postgres, поскольку таблица не требует быстрого чтения для аналитики и при расширении функционала БД службы такси она скорее будет ориентирована на запись, причем небольшого количества строк за раз.

2. Язык скриптов - python, библиотеки psycopg2 для подключения к БД и обмена данными и pandas для обработки данных датафреймами, а также выгрузки данных из БД в формате parquet.

3. Проект завернут в docker-compose.

<i> Прим. из-за веса файлов с данными (соответственно сырые и обработанные а также слой витрин) и необходимости их обработки развертывание docker-compose требует большого количества свободной памяти (около 3GB или более)</i>

Проект представлен в двух вариантах: version1 (рабочий), version2 (~~теоретически~~ рабочий), принципиальных отличий нет, различается работа с данными core-слоя. В первой версии необходимо предварительно обработать данные для core-слоя и поместить их в нужную директорию, во второй -
весь процесс обработки и загрузки данных в БД происходит автоматически (требует большого объема свободной памяти).

<b>Работа с данными</b>

Осуществляется в несколько этапов:

1. Загрузка данных из файла yellow_tripdata в слой сырых данных без каких-либо изменений.

2. Получение части данных путем запроса к БД, для опимизации работы запрашиваются только отдельные столбцы, производится проверка на адекватность значений (например, расстояние или конечная стоимость путешествия не могут быть отрицательными величинами).

3. Преобразование полученных даннных в dataframe, конечная очистка.

4. Загрузка данных в core-слой.

